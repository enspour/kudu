<div
  class="columns"
  kuduDropContainer
  [kuduDropContainerTypes]="['column']"
  [kuduDropContainerData]="columns()"
  (byDrop)="onDropColumn($event)"
>
  @for (column of columns(); track column.uuid) {
    <lib-kanban-column
      [column]="column"
      kuduDrag
      kuduDragType="column"
      [kuduDragData]="column"
    >
      <button kudu-button class="task__creation" (click)="onTaskCreate(column)">
        <kudu-icon icon="plus" [iconSize]="16" />
        <div>Добавить задачу</div>
      </button>

      <div
        class="tasks"
        kuduDropContainer
        [kuduDropContainerTypes]="['task']"
        [kuduDropContainerData]="column"
        (byDrop)="onDropTask($event)"
      >
        @for (task of column.tasks; track task.uuid) {
          <lib-kanban-task
            [task]="task"
            (click)="onTaskClick(task)"
            kuduDrag
            kuduDragType="task"
            [kuduDragData]="task"
          />
        }
      </div>
    </lib-kanban-column>
  }
</div>

<div>
  <button class="btn" kudu-button (click)="onColumnCreate()">
    <kudu-icon icon="plus" [iconSize]="16" />
    <div>Добавить колонку</div>
  </button>
</div>
